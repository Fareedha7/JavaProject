CREATE TABLE IF NOT EXISTS DEPT (
    DEPTNO INT PRIMARY KEY,
    DNAME VARCHAR(14),
    LOC VARCHAR(13)
);


CREATE TABLE IF NOT EXISTS EMP (
    EMPNO INT PRIMARY KEY,
    ENAME VARCHAR(10) UNIQUE,  -- Ensuring ENAME is unique for BONUS reference
    JOB VARCHAR(9),
    MGR INT,
    HIREDATE DATE,
    SAL DECIMAL(10,2),  -- Increased precision
    COMM DECIMAL(10,2),
    DEPTNO INT,
    FOREIGN KEY (MGR) REFERENCES EMP(EMPNO),
    FOREIGN KEY (DEPTNO) REFERENCES DEPT(DEPTNO)
);


ALTER TABLE EMP ADD UNIQUE (ENAME);


DROP TABLE IF EXISTS BONUS;


CREATE TABLE IF NOT EXISTS BONUS (
    ENAME VARCHAR(10),
    JOB VARCHAR(9),
    SAL DECIMAL(10,2),
    COMM DECIMAL(10,2),
    FOREIGN KEY (ENAME) REFERENCES EMP(ENAME) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS SALGRADE (
    GRADE INT PRIMARY KEY,
    LOSAL DECIMAL(10,2),
    HISAL DECIMAL(10,2)
);